\documentclass{amsart}

\usepackage{amsmath,amssymb}
\usepackage[colorlinks,linkcolor=blue]{hyperref}
\usepackage[all]{xy}
\DeclareMathOperator{\h}{H}
\DeclareMathOperator{\hoker}{hok}
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\eD}{\mathsf{D}}
\newcommand{\eK}{\mathsf{K}}
\newcommand{\eL}{\mathsf{L}}
\newcommand{\eR}{\mathsf{R}}
\newcommand{\lan}{\mathrm{L}}
\newcommand{\ran}{\mathrm{R}}
\DeclareFontFamily{U}{wncy}{}
\DeclareFontShape{U}{wncy}{m}{n}{<->wncyr10}{}
\DeclareSymbolFont{mcy}{U}{wncy}{m}{n}
\DeclareMathSymbol{\sha}{\mathord}{mcy}{"58} 

\title{Derived functors as Kan extensions}
\author{Daniel Miller}

\begin{document}
\maketitle





\section{Kan extensions}

A source for some of this is \cite{riehl-2014}, available online at 
\url{http://www.math.harvard.edu/~eriehl/cathtpy.pdf}. Let $f:\cC\to \cD$ be a 
functor. We get an induced natural transformation (of 2-functors?) 
$f^\ast:[\cD,-] \to [\cC,-]$. That is, for each category $\cE$, there is a 
functor $f^\ast:\cE^\cD\to \cE^\cC$ that sends $g:\cD\to \cE$ to 
$g f:\cC\to \cE$. We say that $f$ \emph{admits left (resp.~right) Kan 
extensions} (non-standard terminology) if $f^\ast:\cE^\cD\to \cD^\cC$ has 
left (resp.~right) adjoints, which we denote $\lan_f$ (resp.~$\ran_f$). If 
$f^\ast$ has both adjoints, we say that $f$ \emph{has Kan extensions}. In 
this case, there is an adjoint triple $(\lan_f,f^\ast,\ran_f)$ fitting into a 
diagram 
\[\xymatrix{
  \cE^\cD \ar[r]^-{f^\ast} 
    & \cE^\cC .\ar@/^2pc/[l]^{\ran_f} \ar@/_2pc/[l]_{\lan_f}
}\]
To be more concrete, we have natural isomorphisms 
\begin{align*}
  [\lan_f g,h] &= [g,f^\ast h] \\
  [f^\ast g,h] &= [g,\ran_f h] 
\end{align*}





\section{Derived functors}

Now let $f:\cA\to \cB$ be an additive functor on abelian categories. We also 
write $f$ for the induced functor $\eK(\cA) \to \eK(\cB)$ on categories of 
chain complexes modulo homotopy. Let $q:\eK(-)\to \eD(-)$ be the localization 
functor. We define (if they exist) 
\begin{align*}
  \eL f &= \ran_q\bar f \\
  \eR f &= \lan_q \bar f .
\end{align*}
This deserves some explanation. We will concentrate on the right-derived 
functor $\eR f:\eD(\cA) \to \eD(\cB)$. The functor 
$q_\cA:\eK(\cA) \to \eD(\cA)$ induces 
\[
  q_\cA^\ast:\eD(\cB)^{\eD(\cA)} \to \eD(\cB)^{\eK(\cA)} .
\]
The image of $\bar f$ under its left adjoint is $\eR f$. That is, there is a 
natural isomorphism 
\[
  \hom_{[\eD(\cA),\eD(\cB)]}(\eR f,g) = \hom_{[\eK(\cA),\eD(\cB)]}(\bar f, g\circ q_\cA) .
\]
Putting $g=\eR f$, the identity morphism $\eR f\to \eR f$ induces 
the unit $\eta_f:\bar f\to \eR f\circ q_\cA$. All morphisms 
$\bar f\to gq$ come from a unique $\eR f\to g$ via $\eta$. 

We say that $\eR f=f$ if $\eta:\bar f\to \eR f\circ q$ is an isomorphism. When 
this is the case, we will write $f$ instead of $\eR f$. 


\subsection{Composition of derived functors}

Let $\cA\xrightarrow f \cB\xrightarrow g \cC$ be additive functors. We will 
construct a canonical natural transformation 
$\eR(g\circ f) \to \eR g\circ \eR f$. By the definition of $\eR(-)$, we have 
\[
  [\eR(g\circ f),\eR g\circ \eR f] = [\overline{g\circ f},\eR g\circ \eR f\circ q] .
\]
We construct a transformation $\overline{g\circ f}\to\eR g\circ \eR f\circ q$ 
as follows:
\[
  \overline{g\circ f} = \bar g\circ f\xrightarrow{\eta_g\circ f} \eR g\circ q \circ f = \eR g\circ \bar f \xrightarrow{\eR g\circ \eta_f} \eR g\circ \eR f\circ q .
\]



\subsection{Functoriality of derived functors}

Suppose we have $\alpha:f\to g$. There should be 
$\eR \alpha:\eR f\to \eR g$. For this, it suffices to construct 
$[\eR g,-] \to [\eR f,-]$ via 
\[
  [\eR g,-] = [\bar g,q^\ast -] \xrightarrow{\bar\alpha^\ast} [\bar f,q^\ast -] = [\eR f,-] .
\]

Suppose we have functors $f:\cA\to \cB$, $g:\cB\to \cC$, 
$h:\cA\to \cC$ together with $\alpha:h\to g f$. Suppose further that $\eR f=f$. 
Then there is a canonical transformation 
\[
  \eR h \to \eR(g f) \to \eR g\circ f .
\]





\section{Derived Tate-Shafarevich groups}

If $\cX$ be a topos, let $\Gamma=\Gamma_\cX=\hom(1_\cX,-)$. Recall that a 
morphism of topoi (called a \emph{geometric morphism} in 
\cite{maclane-moerdijk-1994})$f:\cX\to \cY$ is an adjoint pair 
$(f^\ast,f_\ast)$, where $f_\ast:\cX\to \cY$ and $f^\ast$ preserves limits. Note 
that $f^\ast$ already preserves colimits. Write $\eD(\cX)$ for the derived 
category of abelian group objects in $\cX$. Since $f^\ast$ is exact, we write 
$f^\ast:\eD(\cY) \to \eD(\cX)$ for the induced functor. 

There is a canonical natural transformation 
$\Gamma_\cY \to \Gamma_\cX\circ f^\ast$, constructed via 
\[
  \Gamma_\cY \to \hom(1_\cY,f_\ast f^\ast-) = \hom(f^\ast 1_\cY,f^\ast -) = \Gamma_\cX\circ f^\ast ,
\]
via the unit $1\to f_\ast f^\ast$. We have seem that this gives 
$\eR \Gamma_\cY \to \eR \Gamma_\cX \circ f^\ast$. We define the 
\emph{$f$-Tate-Shafarevich group} to be 
\[
  \sha_f = \ker\left(\eR\Gamma_\cY \to \eR\Gamma_\cX\circ f^\ast\right) .
\]
The problem is, this doesn't exist (in general) as an object of the derived 
category. So we can either look at 
\[
  \sha_f^\bullet(-) = \ker\left(\h^\bullet(Y,-) \to \h^\bullet(X,f^\ast -)\right)
\]
or define 
\[
  \sha_f = \hoker\left(\eR\Gamma_\cY \to \eR\Gamma_\cX\circ f^\ast\right)
\]
the homotopy-kernel. 





\bibliographystyle{alpha}
\bibliography{tidbit-sources}

\end{document}
